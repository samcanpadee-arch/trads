import{f as $,a as C}from"../chunks/DbI-BAT7.js";import"../chunks/eNEize8k.js";import{p as D,s as m,f as O,t as P,h as r,a as j,c as l,g as t,m as f,r as c}from"../chunks/DpahKekj.js";import{s as x}from"../chunks/VvQGwHW7.js";import{r as A}from"../chunks/DF0FGNug.js";import{e as H}from"../chunks/BoqBtSLs.js";import{b as J}from"../chunks/CiKuUkrW.js";import{p as N}from"../chunks/CWmzcjye.js";import{i as R}from"../chunks/DqZOa1AM.js";var q=$('<h1 class="text-2xl font-bold mb-4">Chat Tester</h1> <form class="space-y-3"><input class="border rounded px-3 py-2 w-full" placeholder="Ask something…"/> <button class="bg-black text-white rounded px-4 py-2"> </button></form> <pre class="mt-4 whitespace-pre-wrap border rounded p-3"> </pre>',1);function Q(g,_){D(_,!1);let n=f(""),a=f(""),s=f(!1);async function w(){var v;t(s,!0),t(a,"");const e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:r(n)||"Say hi!"}]})});if(!e.ok){const d=await e.text().catch(()=>"");t(a,`HTTP ${e.status} ${e.statusText} ${d}`),t(s,!1);return}const h=(v=e.body)==null?void 0:v.getReader(),S=new TextDecoder;if(h)for(;;){const{value:d,done:k}=await h.read();if(k)break;t(a,r(a)+S.decode(d,{stream:!0}))}else t(a,await e.text());t(s,!1)}R();var u=q(),o=m(O(u),2),i=l(o);A(i);var p=m(i,2),y=l(p,!0);c(p),c(o);var b=m(o,2),T=l(b,!0);c(b),P(()=>{p.disabled=r(s),x(y,r(s)?"Sending…":"Send"),x(T,r(a))}),J(i,()=>r(n),e=>t(n,e)),H("submit",o,N(w)),C(g,u),j()}export{Q as component};
