import{a as K}from"../chunks/tvByimhO.js";import{r as L}from"../chunks/KjYeVjkE.js";import{f as q,a as k}from"../chunks/DbI-BAT7.js";import{p as Q,t as z,a as R,$ as U,s as n,c as r,h as A,d as V,r as l,b as X,g as E}from"../chunks/DpahKekj.js";import{s as W}from"../chunks/VvQGwHW7.js";import{i as Z}from"../chunks/btn1nWV7.js";import{h as F}from"../chunks/CY1QkmDl.js";import{a as $,e as ee}from"../chunks/DoAslAPt.js";import{a as d,r as f}from"../chunks/DF0FGNug.js";import{s as C}from"../chunks/BAvt4X04.js";/* empty css                */import{a as te}from"../chunks/Byp0lo2j.js";async function ae({parent:u}){const e=await u();return K(e==null?void 0:e.profile)&&L(303,"/account/select_plan"),e}const be=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));var re=q('<p class="text-red-700 text-sm font-bold text-center mt-3"> </p>'),le=q('<div class="text-center content-center max-w-lg mx-auto min-h-[100vh] pb-12 flex items-center place-content-center"><div class="flex flex-col w-64 lg:w-80"><div><h1 class="text-2xl font-bold mb-6">Create Profile</h1> <form class="form-widget" method="POST" action="/account/api?/updateProfile"><div class="mt-4"><label for="fullName"><span class="text-l text-center">Your Name</span></label> <input id="fullName" name="fullName" type="text" placeholder="Your full name" maxlength="50"/></div> <div class="mt-4"><label for="companyName"><span class="text-l text-center">Company Name</span></label> <input id="companyName" name="companyName" type="text" placeholder="Company name" maxlength="50"/></div> <div class="mt-4"><label for="website"><span class="text-l text-center">Company Website</span></label> <input id="website" name="website" type="text" placeholder="Company website" maxlength="50"/></div> <!> <div class="mt-4"><input type="submit" class="btn btn-primary mt-3 btn-wide"/></div></form> <div class="text-sm text-slate-800 mt-14"> <br/> <a class="underline" href="/account/sign_out">Sign out</a></div></div></div></div>');function _e(u,e){Q(e,!0);let{user:p,profile:s}=e.data,m=V(!1),B=(s==null?void 0:s.full_name)??"",D=(s==null?void 0:s.company_name)??"",G=(s==null?void 0:s.website)??"";const v=(t,a)=>((t==null?void 0:t.errorFields)??[]).includes(a),H=()=>(E(m,!0),async({update:t,result:a})=>{await t({reset:!1}),await te(a),E(m,!1)});var x=le();F(t=>{U.title="Create Profile"});var P=r(x),S=r(P),c=n(r(S),2),b=r(c),_=n(r(b),2);f(_),l(b);var h=n(b,2),w=n(r(h),2);f(w),l(h);var y=n(h,2),g=n(r(y),2);f(g),l(y);var M=n(y,2);{var I=t=>{var a=re(),i=r(a,!0);l(a),z(()=>{var o;return W(i,(o=e.form)==null?void 0:o.errorMessage)}),k(t,a)};Z(M,t=>{var a;(a=e.form)!=null&&a.errorMessage&&t(I)})}var O=n(M,2),N=r(O);f(N),l(O),l(c),$(c,(t,a)=>{var i;return(i=ee)==null?void 0:i(t,a)},()=>H);var Y=n(c,2),J=r(Y);X(3),l(Y),l(S),l(P),l(x),z((t,a,i)=>{var o,j,T;C(_,1,`${t??""} mt-1 input input-bordered w-full max-w-xs`),d(_,((o=e.form)==null?void 0:o.fullName)??B),C(w,1,`${a??""} mt-1 input input-bordered w-full max-w-xs`),d(w,((j=e.form)==null?void 0:j.companyName)??D),C(g,1,`${i??""} mt-1 input input-bordered w-full max-w-xs`),d(g,((T=e.form)==null?void 0:T.website)??G),d(N,A(m)?"...":"Create Profile"),N.disabled=A(m),W(J,`You are logged in as ${(p==null?void 0:p.email)??""}. `)},[()=>v(e.form,"fullName")?"input-error":"",()=>v(e.form,"companyName")?"input-error":"",()=>v(e.form,"website")?"input-error":""]),k(u,x),R()}export{_e as component,be as universal};
