import{i as p,c as P,a as g,l as h,P as c,b as u}from"./B_Ar7Vfx.js";import{r as f}from"./KjYeVjkE.js";import{C as b}from"./yW1OjGkI.js";const d=async({fetch:e,data:o,depends:m,url:n})=>{m("supabase:auth");const t=p()?P(u,c,{global:{fetch:e}}):g(u,c,{global:{fetch:e},cookies:{getAll(){return o.cookies}}}),{session:i,user:a}=await h(o.session,t);(!i||!a)&&f(303,"/login");const{data:r}=await t.from("profiles").select("*").eq("id",a.id).single(),{data:s}=await t.auth.mfa.getAuthenticatorAssuranceLevel(),l="/account/create_profile";return r&&!_(r)&&n.pathname!==l&&n.pathname!=="/account/sign_out"&&b&&f(303,l),{supabase:t,session:i,profile:r,user:a,amr:s==null?void 0:s.currentAuthenticationMethods}},_=e=>!(!e||!e.full_name||!e.company_name||!e.website),C=Object.freeze(Object.defineProperty({__proto__:null,_hasFullProfile:_,load:d},Symbol.toStringTag,{value:"Module"}));export{C as _,_ as a};
