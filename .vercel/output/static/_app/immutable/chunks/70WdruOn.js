import{f as u,a as v,c as mt,b as dt,t as ut}from"./DbI-BAT7.js";import{p as ft,a as ct,s as S,c as s,h as o,d as N,r as n,t as _,f as E,b as _t,g as q}from"./DpahKekj.js";import{s as y}from"./VvQGwHW7.js";import{i as g}from"./btn1nWV7.js";import{e as bt,i as pt}from"./B9aOS7PH.js";import{a as xt,e as gt}from"./DoAslAPt.js";import{s as k,r as ht,a as wt}from"./DF0FGNug.js";import{s as O}from"./BAvt4X04.js";import{p as h}from"./JubLllKb.js";import{s as yt,a as Tt}from"./DLgYKsuH.js";import{p as kt}from"./D4S3zOKG.js";import{a as St}from"./Byp0lo2j.js";var Bt=u('<div class="text-xl font-bold mb-3 w-48 md:pr-8 flex-none"> </div>'),Lt=dt('<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>'),Mt=u("<div><!> <span> </span></div>"),Vt=u('<label><span class="text-sm text-gray-500"> </span></label>'),jt=u("<input/>"),zt=u('<div class="text-lg mb-3"> </div>'),At=u("<!> <!>",1),Et=u('<p class="text-red-700 text-sm font-bold mt-1"> </p>'),Ot=u('<span class="loading loading-spinner loading-md align-middle mx-3"></span>'),Pt=u('<div><button type="submit"><!></button></div>'),Rt=u('<a class="mt-1"><button> </button></a>'),qt=u('<!> <form class="form-widget flex flex-col" method="POST"><!> <!> <!></form>',1),Ct=u('<div><div class="text-l font-bold"> </div> <div class="text-base"> </div></div> <a href="/account/settings"><button class="btn btn-outline btn-sm mt-3 min-w-[145px]">Return to Settings</button></a>',1),Dt=u('<div class="card p-6 pb-7 mt-8 max-w-xl flex flex-col md:flex-row shadow-sm"><!> <div class="w-full min-w-48"><!></div></div>');function Ft(Q,f){ft(f,!0);const L=()=>Tt(kt,"$page",U),[U,W]=yt(),X=(i,m)=>((i==null?void 0:i.errorFields)??[]).includes(m);let j=N(!1),C=N(!1),P=h(f,"editable",3,!1),z=h(f,"dangerous",3,!1),D=h(f,"title",3,""),G=h(f,"message",3,""),Y=h(f,"formTarget",3,""),Z=h(f,"successTitle",3,"Success"),F=h(f,"successBody",3,""),H=h(f,"editButtonTitle",3,null),I=h(f,"editLink",3,null),$=h(f,"saveButtonTitle",3,"Save");const tt=()=>(q(j,!0),async({update:i,result:m})=>{await i({reset:!1}),await St(m),q(j,!1),m.type==="success"&&q(C,!0)});var R=Dt(),J=s(R);{var at=i=>{var m=Bt(),T=s(m,!0);n(m),_(()=>y(T,D())),v(i,m)};g(J,i=>{D()&&i(at)})}var K=S(J,2),et=s(K);{var rt=i=>{var m=qt(),T=E(m);{var M=r=>{var t=Mt(),a=s(t);{var c=l=>{var p=Lt();v(l,p)};g(a,l=>{z()&&l(c)})}var d=S(a,2),b=s(d,!0);n(d),n(t),_(()=>{O(t,1,`mb-6 ${z()?"alert alert-warning":""}`),y(b,G())}),v(r,t)};g(T,r=>{G()&&r(M)})}var B=S(T,2),V=s(B);bt(V,17,()=>f.fields,pt,(r,t)=>{var a=At(),c=E(a);{var d=x=>{var e=Vt(),w=s(e),vt=s(w,!0);n(w),n(e),_(()=>{k(e,"for",o(t).id),y(vt,o(t).label)}),v(x,e)};g(c,x=>{o(t).label&&x(d)})}var b=S(c,2);{var l=x=>{var e=jt();ht(e),_(w=>{k(e,"id",o(t).id),k(e,"name",o(t).id),k(e,"type",o(t).inputType??"text"),e.disabled=!P(),k(e,"placeholder",o(t).placeholder??o(t).label??""),O(e,1,`${w??""} input-sm mt-1 input input-bordered w-full max-w-xs mb-3 text-base py-4`),wt(e,L().form?L().form[o(t).id]:o(t).initialValue),k(e,"maxlength",o(t).maxlength?o(t).maxlength:null)},[()=>{var w;return X((w=L())==null?void 0:w.form,o(t).id)?"input-error":""}]),v(x,e)},p=x=>{var e=zt(),w=s(e,!0);n(e),_(()=>y(w,o(t).initialValue)),v(x,e)};g(b,x=>{P()?x(l):x(p,!1)})}v(r,a)});var A=S(V,2);{var ot=r=>{var t=Et(),a=s(t,!0);n(t),_(()=>{var c,d;return y(a,(d=(c=L())==null?void 0:c.form)==null?void 0:d.errorMessage)}),v(r,t)};g(A,r=>{var t,a;(a=(t=L())==null?void 0:t.form)!=null&&a.errorMessage&&r(ot)})}var nt=S(A,2);{var it=r=>{var t=Pt(),a=s(t),c=s(a);{var d=l=>{var p=Ot();v(l,p)},b=l=>{var p=ut();_(()=>y(p,$())),v(l,p)};g(c,l=>{o(j)?l(d):l(b,!1)})}n(a),n(t),_(()=>{O(a,1,`ml-auto btn btn-sm mt-3 min-w-[145px] ${z()?"btn-error":"btn-primary btn-outline"}`),a.disabled=o(j)}),v(r,t)},lt=r=>{var t=mt(),a=E(t);{var c=d=>{var b=Rt(),l=s(b),p=s(l,!0);n(l),n(b),_(()=>{k(b,"href",I()),O(l,1,`btn btn-outline btn-sm ${z()?"btn-error":""} min-w-[145px]`),y(p,H())}),v(d,b)};g(a,d=>{H()&&I()&&d(c)},!0)}v(r,t)};g(nt,r=>{P()?r(it):r(lt,!1)})}n(B),xt(B,(r,t)=>{var a;return(a=gt)==null?void 0:a(r,t)},()=>tt),_(()=>k(B,"action",Y())),v(i,m)},st=i=>{var m=Ct(),T=E(m),M=s(T),B=s(M,!0);n(M);var V=S(M,2),A=s(V,!0);n(V),n(T),_t(2),_(()=>{y(B,Z()),y(A,F())}),v(i,m)};g(et,i=>{o(C)?i(st,!1):i(rt)})}n(K),n(R),v(Q,R),ct(),W()}export{Ft as S};
